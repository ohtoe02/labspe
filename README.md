# –û—Ç—á–µ—Ç –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏ –ø–æ–≤—ã—à–µ–Ω–∏—é –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ü–µ–ø–æ—á–∫–∏ CI/CD

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

Docker Compose –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —Å–æ—Å—Ç–æ—è—â–µ–µ –∏–∑:
- **Backend**: FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ Python 3.11
- **Frontend**: React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ 
- **Database**: MySQL 8.0
- **Reverse Proxy**: Nginx

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ CI/CD –ø–∞–π–ø–ª–∞–π–Ω–∞

–ü–∞–π–ø–ª–∞–π–Ω —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ **—Ç—Ä–µ—Ö job'–æ–≤** –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ —ç–≤–æ–ª—é—Ü–∏–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

### 1. Basic Pipeline (No Cache) - –ë–∞–∑–æ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç

**–≠—Ç–∞–ø—ã:**
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –∏ Node.js
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π **–±–µ–∑ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è**
- –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ backend (pytest) –∏ frontend (Jest)
- –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–æ–≤ **–±–µ–∑ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è**

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Python: ~45-60 —Å–µ–∫
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π Node.js: ~30-45 —Å–µ–∫
- –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤: ~15-30 —Å–µ–∫
- –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–æ–≤: ~3-5 –º–∏–Ω
- **–û–±—â–µ–µ –≤—Ä–µ–º—è: ~5-7 –º–∏–Ω—É—Ç**

### 2. Pipeline with Caching - –° –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º

**–ü—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ —Ç–∏–ø—ã –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è:**
- **Python dependencies**: –ö—ç—à pip (`~/.cache/pip`)
- **Node.js dependencies**: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π npm –∫—ç—à GitHub Actions
- **Docker layers**: GitHub Actions Cache (`type=gha`)

**–≠—Ç–∞–ø—ã:**
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –∏ Node.js
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π **—Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∫—ç—à–∞**
- –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
- –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–æ–≤ **—Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Å–ª–æ—ë–≤**

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–ø—Ä–∏ –ø–æ–ø–∞–¥–∞–Ω–∏–∏ –≤ –∫—ç—à):**
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: **45-60 —Å–µ–∫ ‚Üí 10-15 —Å–µ–∫** (75% —É—Å–∫–æ—Ä–µ–Ω–∏–µ)
- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Node.js –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π: **30-45 —Å–µ–∫ ‚Üí 5-10 —Å–µ–∫** (80% —É—Å–∫–æ—Ä–µ–Ω–∏–µ)
- –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–æ–≤: **3-5 –º–∏–Ω ‚Üí 1-2 –º–∏–Ω** (60% —É—Å–∫–æ—Ä–µ–Ω–∏–µ)
- **–û–±—â–µ–µ –≤—Ä–µ–º—è: ~2-3 –º–∏–Ω—É—Ç—ã** (60% —É—Å–∫–æ—Ä–µ–Ω–∏–µ)

### 3. Cache + SonarQube - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ + –∞–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞

**–≠—Ç–∞–ø—ã:**
- –í—Å–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏–∑ job #2
- –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ **—Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –æ—Ç—á—ë—Ç–æ–≤ –ø–æ–∫—Ä—ã—Ç–∏—è**
- –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞ —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **SonarCloud –∞–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞**

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–∫—Ä—ã—Ç–∏—è —Ç–µ—Å—Ç–∞–º–∏ (Python: pytest-cov, JS: Jest)
- –ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ (code smells, bugs, vulnerabilities)
- –û—Ü–µ–Ω–∫–∞ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–ª–≥–∞
- History tracking –∏–∑–º–µ–Ω–µ–Ω–∏–π –∫–∞—á–µ—Å—Ç–≤–∞

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
- –í—Å–µ —ç—Ç–∞–ø—ã –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è: ~2-3 –º–∏–Ω—É—Ç—ã
- SonarCloud –∞–Ω–∞–ª–∏–∑: **+1-2 –º–∏–Ω—É—Ç—ã**
- **–û–±—â–µ–µ –≤—Ä–µ–º—è: ~3-5 –º–∏–Ω—É—Ç**

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã

**Backend —Ç–µ—Å—Ç—ã (pytest):**
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API endpoints (GET/POST /api/users, /health)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ú–æ–∫–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤
- **–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞: >80%**

**Frontend —Ç–µ—Å—Ç—ã (Jest + React Testing Library):**
- –†–µ–Ω–¥–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
- –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤ create-react-app —Ç–µ—Å—Ç—ã
- **–ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞: >70%**

## SonarCloud –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

**–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**
- Code Coverage (–ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏)
- Code Smells (–ø—Ä–æ–±–ª–µ–º—ã maintainability)
- Bugs (–ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏)
- Security Vulnerabilities (—É—è–∑–≤–∏–º–æ—Å—Ç–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
- Technical Debt (—Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥)

## –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Ç—Ä—ë—Ö –ø–∞–π–ø–ª–∞–π–Ω–æ–≤

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç           | Job #1: Basic    | Job #2: Cache    | Job #3: Cache+SonarQube |
|---------------------|------------------|------------------|-------------------------|
| Python deps         | 45-60 —Å–µ–∫        | 10-15 —Å–µ–∫        | 10-15 —Å–µ–∫               |
| Node.js deps        | 30-45 —Å–µ–∫        | 5-10 —Å–µ–∫         | 5-10 —Å–µ–∫                |
| Docker build        | 3-5 –º–∏–Ω          | 1-2 –º–∏–Ω          | 1-2 –º–∏–Ω                 |
| –¢–µ—Å—Ç—ã               | 15-30 —Å–µ–∫        | 15-30 —Å–µ–∫        | 15-30 —Å–µ–∫               |
| SonarQube           | -                | -                | 1-2 –º–∏–Ω                 |
| **–û–±—â–µ–µ –≤—Ä–µ–º—è**     | **5-7 –º–∏–Ω**      | **2-3 –º–∏–Ω**      | **3-5 –º–∏–Ω**             |
| **–£–ª—É—á—à–µ–Ω–∏–µ**       | –ë–∞–∑–æ–≤–∞—è –ª–∏–Ω–∏—è    | **60% –±—ã—Å—Ç—Ä–µ–µ**  | **40% –±—ã—Å—Ç—Ä–µ–µ + –∫–∞—á–µ—Å—Ç–≤–æ** |

## –í—ã–≤–æ–¥—ã –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

### üìä –ö–ª—é—á–µ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:

1. **Job #1 (Basic)**: –ë–∞–∑–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π - **5-7 –º–∏–Ω—É—Ç**
2. **Job #2 (Cache)**: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞—ë—Ç **60% —É—Å–∫–æ—Ä–µ–Ω–∏–µ** - **2-3 –º–∏–Ω—É—Ç—ã**
3. **Job #3 (Cache + SonarQube)**: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–∞ –∫–∞—á–µ—Å—Ç–≤–∞ +1-2 –º–∏–Ω - **3-5 –º–∏–Ω—É—Ç**

### üéØ –û—Å–Ω–æ–≤–Ω—ã–µ –≤—ã–≤–æ–¥—ã:

1. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ**: –≠–∫–æ–Ω–æ–º–∏—è 60% –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö —Å–±–æ—Ä–∫–∞—Ö
2. **SonarQube –¥–æ–±–∞–≤–ª—è–µ—Ç —Ü–µ–Ω–Ω–æ—Å—Ç—å**: +1-2 –º–∏–Ω –∑–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ –ø—Ä–∏–µ–º–ª–µ–º–æ
3. **–ê–≤—Ç–æ—Ç–µ—Å—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω–æ**: –û–¥–∏–Ω–∞–∫–æ–≤–æ–µ –≤—Ä–µ–º—è –≤–æ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏—è—Ö
4. **Docker layer caching —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–µ–Ω**: 60% —É—Å–∫–æ—Ä–µ–Ω–∏–µ —Å–±–æ—Ä–∫–∏ –æ–±—Ä–∞–∑–æ–≤

### üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å –ø–µ—Ä–≤–æ–≥–æ –¥–Ω—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å SonarQube** –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –≤—Ä–µ–º—è —Å–±–æ—Ä–∫–∏** –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –¥–µ–≥—Ä–∞–¥–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å Dockerfile'—ã** –¥–ª—è –ª—É—á—à–µ–≥–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Å–ª–æ—ë–≤

### üí∞ –≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π —ç—Ñ—Ñ–µ–∫—Ç:
- **–≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏**: 2-4 –º–∏–Ω—É—Ç—ã –Ω–∞ –∫–∞–∂–¥—ã–π commit
- **–†–∞–Ω–Ω–µ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º**: –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –±–∞–≥–æ–≤ –≤ production
- **–ü–æ–≤—ã—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏ SonarQube

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
- `.github/workflows/ci-cd.yml` - **–¢—Ä–∏ job'–∞ –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è**
- `sonar-project.properties` - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ SonarCloud 
- `backend/tests/test_main.py` - API —Ç–µ—Å—Ç—ã
- `backend/tests/test_db.py` - –¢–µ—Å—Ç—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- `backend/pytest.ini` - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è pytest —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º
- `compose.yml` - Docker Compose –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–µ–∫—Ä–µ—Ç—ã GitHub:
- `SONAR_TOKEN` - –¢–æ–∫–µ–Ω SonarCloud (–¥–ª—è job #3)
- `GITHUB_TOKEN` - –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

### –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –ø–∞–π–ø–ª–∞–π–Ω–∞:
- **–¢—Ä–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö job'–∞** –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
- **Job #1**: –î–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –±–∞–∑–æ–≤–æ–µ –≤—Ä–µ–º—è –±–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π
- **Job #2**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- **Job #3**: –î–æ–±–∞–≤–ª—è–µ—Ç –∞–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞

–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≤–ª–∏—è–Ω–∏—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π CI/CD. 